# Path
```python
# for windows
from pathlib import Path

Path(r'C:\Program FIles\Microsoft')

# for linux
## 1
from pathlib import Path

path = Path('ecommerce/__init__.py')	# path = path_object: ecommerce/__init__.py, which is equivallent to ./emmerce/__init__.py

path.exists()	# does path_object exists ?
path.is_file()	# is path_object a file ?
path.is_dir()	# is path obhect a directory ?


Path.home()	# return the home directory of current user

print(path)
print(path.name)	# print the name of object pointed by path
print(path.stem)	# name = stem.suffix
print(path.suffix)
print(path.parent)	# print the parent of path_object of 'path'

path = path.with_name('init.txt')	# path = noexsisted path_object: ecommerce/init.txt

print(path)

path = path.with_suffix('.py')	# path = noexsisted path_object: ecoomerce/init.py

print(path)

## 2
from pathlib import Path

path = Path('ecommerce/')	

for p in path.iterdir() :	# for each subpath('p') of 'path'; TRANS: for each 'p' in objects generated by generator path.iterdir(), which can generate subpaths of 'path'
	print(p)	# print it

## 3
from pathlib import Path

path = Path('ecommerce/')

paths = [p for p in path.iterdir()]	# paths  = a list of lv.1 subpaths of 'path'
print(paths)

print(5*'---')

paths = [p for p in  path.iterdir() if p.is_dir()]	# paths = a list of lv.1 subpaths of 'path', and each subpath is dir

py_files = [ p for p in path.glob('*.py')]	# py_files = a list of '*.py' under 'path'

py_files_r = [p for p in path.rglob('*.py')]	# py_files_r = a list of '*.py' under 'path' and its subpaths

print(paths,'\n')
print(py_files,'\n')
print(py_files_r)	
```
# Working with Files
## basic functions
```python
from pathlib import Path
from time import ctime

path = Path('ecommerce/__init__.py')

# path.exists()					# check whether file of 'path' exists
# path.rename('ecommerce/__init__.txt')		# move the file of 'path'
# path.unlink()					# delete file of 'path'

print(ctime(path.stat().st_ctime))				# print the create_time of the path of 'path', make sure its humanable

print(path.read_text()) 	# read the text of the file of 'path', and print it
path.write_text('hello world')  # write 'hello world' into the file of 'path'
```
## copy
```python
from matplotlib import Path
import shutil


source  = Path('ecommerce/__init__.py')		# the file to copy: 'ecoomer/__init__.py',  link it to 'source'
target = Path() / '__init__.py'			# copy the file to './__iniit__.py',  link it to 'target'

shutil.copy(source, target)			# copy the file of 'source' to the path of 'target' 
```
# Working with Zip Files
## create
```python
from pathlib import Path
from zipfile import ZipFile

with ZipFile('files.zip', 'w') as zip :	# create and open './files.zip',  link it to 'zip', then close it after the followings are finished
	for path in Path('ecommerce').rglob('*.*') :	# for each file(be reffered to as 'path') in 'ecommerce' and its subpaths
		zip.write(path)				# write it into 'zip'
```
## read
```python
from pathlib import Path
from zipfile import ZipFile

with ZipFile('files.zip') as zip :		# open 'files.zip' and link it to 'zip', then close it after the followings are finished
	print(zip.namelist())	# get a list of file_names of 'zip', and print it

	info = zip.getinfo('ecommerce/__init__.py')	# get info of 'ecommerce/__init__.py' of 'zip', and link it to 'info'

	print(info.file_size)	# get the file_size of 'info', and print it
	print(info.compress_size)	# get the compress_size of 'info', and print it
	
	zip.extractall('extract')	# extract all the files of 'zip' to path: extract
```
# Woring with CSV Files
csv file: txt file for storing table information
## create
```python
import csv

with open('data.csv', 'w') as file : 	# create and open './data.csv', and link it to 'file', then close it after the fllowings are finished
	writer = csv.writer(file)	# create a writer for 'file', link it to 'writer' (you can use writer to write data into certain file)
	writer.writerow(['transactionid', 'product_id, product_number'])	# write a row into 'writer': ['transactionid', 'product_id, product_number]
	writer.writerow([1000, 1, 5])
	writer.writerow([1001, 2, 15])
```
## read
```python
import csv

with open('data.csv') as file : 	# open 'data.csv' and link it to 'file', then close it after the followings are finished
	reader = csv.reader(file)	# create a reader and read data of 'file' into the reader, and link the reader to 'reader'()
	# print(list(reader))	# convert the data of 'reader' into a list, and print it;  this code can't be used simultaneously with the following, because objects to print is all from 'reader': a reader object

	for row in reader :	# for every item(be reffered to as 'row') in 'reader' 
		print(row)	# print it
```

# Working with JSON Files
## write
```python
import json
from pathlib import Path

movies = [
		{'id':1, 'title':'Terminator', 'year':1989},
		{'id':2, 'title':'Kindergarten Cop', 'year':1993}
]

data = json.dumps(movies)	# convert 'movies' to strings represented in JSON, link it to 'data'
Path('movies,json').write_text(data)	# create './movies.json' and write txt of 'data' into it
```
## read
```python
import json
from pathlib import Path

data = Path('movies,json').read_text()	# read text of 'movies.json' and save it to 'data'

movies = json.loads(data)	# convert 'data' into Python object, and save it to 'movies'

print(movies)
print(movies[0])
print(movies[0]['title'])	# get the key value of 'title' of item 0 of 'movies', then print it
```

# Working with a SQLite Database
```python
import sqlite3
import json
from pathlib import Path

with sqlite3.connect('db.sqlite3') as conn :	# create and connect the database: db.sqlite, and save it to 'conn', then close it after the followings are finished
	command = 'SELECT * FROM Movies'	# cmd to execute: retrieve all the data from a database table called: Movies, save it to 'command'
	cursor = conn.execute(command)			# execute the cmd saved in 'command', save the retunred cursor into 'cursor' ; what is cursor? cursor moving line by line in retrieved data

	for row in cursor	# for each row(be reffered to as 'row') in 'cursor'
		print(row)	# print it
	
	# movies = cursor.fetchall()	# fetch all the data in cursor 'cursor', save it to 'movies' ; it's can't be simultanousely with the previouse code block
	# print(movies)
```
# Working with Timestamps
```python
import time

def send_emails() :
	for i in range(1000) :
		pass
	
start  = time.time()	# get the current timestamp: send_emails, save it into 'start'
send_emails()
end = time.time()	# get the timestamp when finishing the function, save it into 'end'
duration = end - start 	# get the timestamp used for executing the function, save it into 'duration'
print(duration)
```
# Woring with DateTimes
```python
from datetime import datetime
import time 

dt = datetime(2018, 1, 1)	# get the datetime of (2018, 1, 1), save it into dt
dt1 = datetime.now()	# get the current datetime. save it into dt1
dt2 = datetime.strptime('2018/01/01', '%Y/%m/%d')	# convert string '2018/01/01' into datetime_object according to format '%T/%m/%d', save it into dt2
dt3 = datetime.fromtimestamp(time.time())	# get the current timestamp, convert it into datetime_object, save it into dt3

print(dt3)
print(f'{dt.year}/{dt.month}')	# print: {year of 'dt'}/{month of 'dt'}, which is formated '{dt.year}/{dt.month}'
print(dt.strftime('%Y/%m'))	# convert '%Y/%m' of 'dt' into string, and print it
print(dt > dt1)
```

# Working with Time Deltas
```python
from datetime import datetime, timedelta

dt1 = datetime(2018, 1, 1) + timedelta(days=1, seconds=1000)	# dt1 = 2018/1/1 add '1 day and 1000 seconds'
dt2 = datetime.now()
duration = dt2 - dt1

print(dt1)
print(duration)
print('days',duration.days)	# print: str(days)\ {days of 'duration'}
print('seconds',duration.seconds)
print('total_seconds', duration.total_seconds())
```
# Generating Random Values
```python
import random
import string

print(random.random())	# generate a random value, and print it
print(random.randint(1, 10))	# generate a random int in [1,10), and print it
print(random.choice([1,2,3,4]))	# get an items randomly from [1,2,3,4], and print it
print(random.choices([1,2,3,4],k=2))	# get 2 items randomly from [1,2,3,4], and print them
print(random.choices('abcdefghi', k=4))	# get 4 itmes form str 'abcdefghi', and print then
print(''.join(random.choices('abcdefghi', k=4)))	# get 4 items form str 'abcdefghi', and join them using '' as a seperator, and print it 
print(','.join(random.choices('abcdefghi', k=4)))	# get 4 items form str 'abcdefghi', and join them using ',' as a seperator, and print it 

print(string.ascii_letters)	# get all_the_ascii_letters, and print it
print(string.digits)	# get all the digits, and print it

print(''.join(random.choices((string.ascii_letters + string.digits),k=4)))	# generate all_the_ascii_letters and all_the_digits, get 4 items randomly from (ascii_letters + all_the_digits), and join them using '' as a seperator, and print it

numbers = [1,2,3,4]
random.shuffle(numbers)	# shuffle the value of 'numbers', and overwrite 'numbers' with them
print(numbers)

```
# Opening the Browser
```python
import webbrowser

print('Deployment completed')

webbrowser.open('http://google.com')	# open 'http:google.com' with local webbrowser
```
# Sending Emails
```python
from email.mime.multipart import MIMEMultipart
from email.mime.text import MIMEText
from email.mime.image import MIMEImage
from pathlib import Path
from smtplib

message = MIMEMultipart() # create a MIMEMultipart_object, and save it in 'message'

message['from']	= 'Freather Ben'	# the email is from 'Freather Ben'
message['to'] = 'testuser@test.com'		# the email will be sent to 'testuser@codewithfreather.com'
message['subject'] = 'This is a test'	# the name(subject) of email is 'This is a test'
message.attach(MIMEText('Body','plain'))	# the content(body) of the email is 'Body', type=PlainText
message.attach(MIMEImage(Path('mosh.png').read_bytes()))		# img in email: ./mosh.png

with smtplib.SMTP(host='smtp.gmail.com', port=587) as smtp	# open SMTP: host='smtp.gmail.com', port=587, and close it after sending the email
	smtp.ehlo()
	smtp.starttls()
	smtp.login('my mailbox address', 'passwd')
	smtp.send_message(message)
	print('Sent')

```
# Working with Templates
```python
from email.mime.multipart import MIMEMultipart
from email.mime.text import MIMEText
from email.mime.image import MIMEImage
from pathlib import Path
from string import Template
from smtplib

template = Template(Path('template.html').read_text)	# read a template: ./template.html, save the data into 'template'

message = MIMEMultipart() 
message['from']	= 'Freather Ben'
message['to'] = 'testuser@test.com'
message['subject'] = 'This is a test'
body = template.substitude(name='John')	# substitue $name with str 'John' in data of 'template', save the results to 'body'
message.attach(MIMEText(body,'html'))	# the content(body) of the email is the data of 'body', type=html
message.attach(MIMEImage(Path('mosh.png').read_bytes()))

with smtplib.SMTP(host='smtp.gmail.com', port=587) as smtp	
	smtp.ehlo()
	smtp.starttls()
	smtp.login('my mailbox address', 'passwd')
	smtp.send_message(message)
	print('Sent')

```

# Command-line Arguments
```python
import sys

if len(sys.argv) == 1 :		# If the length of argument in the terminal_cmd == 1, then
	print('USAGE: python3 app.py <passwd>')
else:	# Otherwise,
	passwd = sys.argv[1]	# get the argument at position 1 from the terminal_cmd, save it to 'passwd'
	print('Passwd', passwd)
```

# Running External cmd
```python
import subprocess 

try :	# try the folowing
	CMD  = subprocess.run(['ls', '-l'], capture_output=True)	# run the external cmd: ls -l, don't output message on the terminal. save the cmd to 'CMD'
	print('stdout', CMD.stdout)	# print: stdout\ {value of CMD.stdout} ;CMD.stdout = stdout of the cmd of 'CMD'

	CMD1 = subprocess.run(['python3', 'other.py'], check=True)	# run the external cmd: python3 other.py, check whether the cmd is correctly execueted, if not, raise an exception. save the cmd to 'CMD1'
except subprocess.CalledProcessError as ex:	# If raised exception, type of which is subprocess.CalledProcessError, save the exception to 'ex', run the following
	print(ex)
```
